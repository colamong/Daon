# 🧠 Today I Learned - 비동기 처리 (Asynchronous Processing)

## 비동기 처리란?

- **비동기 처리**는 하나의 작업이 끝날 때까지 기다릴 필요 없이, **다른 작업을 동시에 진행할 수 있도록 하는 방식**입니다.
- 주로 **네트워크 요청, 파일 IO, 데이터베이스 접근** 등 시간이 오래 걸리는 작업에서 사용됩니다.
- **스레드 블록을 피하고**, **응답성을 높이기 위해** 자주 사용됩니다.

---

## 동기 vs 비동기

| 구분 | 동기(Synchronous) | 비동기(Asynchronous) |
|------|--------------------|-----------------------|
| 처리 방식 | 요청 → 완료 → 다음 요청 | 요청 → 다음 작업 진행 → 결과 동시 처리 |
| 응답 시간 | 요청 완료 전까지 대기 | 응답을 기다리지 않고 다음 작업 진행 |
| 예시 | print → print → print | API 요청 → (다른 작업 진행) → 응답 처리 |

---

## Java에서의 비동기 처리 방법

### 1. `Thread` 클래스 사용
```java
public class AsyncWithThread {
    public static void main(String[] args) {
        Thread task = new Thread(() -> {
            System.out.println("비동기 작업 시작");
            try {
                Thread.sleep(2000); // 2초 대기 (IO 등 시뮬레이션)
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println("비동기 작업 완료");
        });

        task.start();
        System.out.println("메인 쓰레드 작업 진행 중...");
    }
}
```

### 2. `ExecutorService`로 스레드풀 활용
```java
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class AsyncWithExecutor {
    public static void main(String[] args) {
        ExecutorService executor = Executors.newSingleThreadExecutor();

        executor.submit(() -> {
            System.out.println("비동기 작업 시작");
            try {
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            System.out.println("비동기 작업 완료");
        });

        System.out.println("메인 쓰레드 작업 계속 진행 중...");
        executor.shutdown(); // 종료
    }
}
```

### 3. `CompletableFuture`로 비동기 + 결과 처리
```java
import java.util.concurrent.CompletableFuture;

public class AsyncWithCompletableFuture {
    public static void main(String[] args) {
        CompletableFuture<Void> future = CompletableFuture.runAsync(() -> {
            System.out.println("비동기 작업 수행 중...");
            try {
                Thread.sleep(2000);
            } catch (InterruptedException e) {
                throw new IllegalStateException(e);
            }
            System.out.println("비동기 작업 완료");
        });

        System.out.println("메인 쓰레드는 계속 실행됨");

        // 결과 대기 (옵션)
        future.join(); // 없으면 기다리지 않음
    }
}
```

---

## 정리

- 비동기 처리는 애플리케이션의 **응답성 향상**, **자원 효율화**, **병렬 처리**에 유리함
- Java에서는 `Thread`, `ExecutorService`, `CompletableFuture`, `Spring @Async` 등 다양한 방식이 있음
- 적절한 예외 처리와 스레드 관리가 중요함

---

