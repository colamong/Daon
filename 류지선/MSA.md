# Today I Learned - MSA(Microservice Architecture)

## MSA란?

- **MSA는** 하나의 애플리케이션을 작고 독립적인 서비스들로 분할하여 구성하는 소프트웨어 아키텍처 스타일을 말한다.
- 각 서비스는 특정 비스니스 도메인에 초점을 맞춰 자체적으로 배포, 확장, 관리가 가능하다.
- 유연한 배포, 기술 이질성, 독립적 개발을 지원하여 대규모 어플리케이션에 적합한 구조로 각광받는다.

---


### 이와 다르게 
## 모놀리식 아키텍처란?

- **모놀리식 아키텍처(Monolithic Architecture)**는 애플리케이션을 하나의 커다란 단일 코드베이스로 구성하는 전통적인 구조를 말한다.
- 웹 서버, 비즈니스 로직, 데이터 접근 계층 등 모든 기능이 하나의 프로젝트 또는 프로세스 안에서 함께 작동한다.
- 하나의 배포 단위로 관리된다.

---


## MSA와 모놀리식 아키텍처의 차이점


| 항목           | 모놀리식 아키텍처                                | 마이크로서비스 아키텍처                          |
|----------------|--------------------------------------------------|--------------------------------------------------|
| **구조**       | 모든 기능이 하나의 애플리케이션 안에 통합됨     | 기능별로 나눠진 독립적인 서비스들의 집합        |
| **개발**       | 하나의 팀 또는 프로젝트에서 통합 개발           | 각 서비스마다 팀이 독립적으로 개발 가능         |
| **배포**       | 전체 애플리케이션을 한 번에 배포                | 각 서비스 단위로 개별 배포 가능                 |
| **확장성**     | 전체 애플리케이션 단위로 확장                   | 필요한 서비스만 수평 확장 가능                  |
| **기술 스택**  | 통일된 언어나 프레임워크 사용                   | 서비스별로 다른 언어나 기술 스택 사용 가능     |
| **장애 전파**  | 하나의 오류가 전체 시스템에 영향을 줄 수 있음  | 장애가 발생한 서비스만 영향받고 격리 가능       |
| **테스트**     | 통합 테스트가 상대적으로 용이                   | 서비스 간 통신 테스트와 통합 테스트가 복잡함   |
| **개발 속도**  | 초기 개발이 빠름                                | 초기 인프라 구성 비용과 복잡도가 높음           |
| **배포 시간**  | 전체 시스템 재배포 필요                         | CI/CD 기반으로 빠른 배포 가능                   |
| **운영 복잡도**| 상대적으로 단순                                 | 서비스 간 통신, 모니터링, 로깅 등 관리 복잡     |

---


## MSA의 장점
1. **독립적 배포**
→ 하나의 서비스만 수정하여 배포할 수 있어 빠른 업데이트와 롤백이 가능
2. **개발 조직의 분산**
→ 여러 팀이 각자의 서비스만 집중하면 되므로 개발 효율성과 속도 향상
3. **기술 스택의 유연성**
→ 각 서비스마다 적합한 언어와 프레임워크 선택 가능
4. **확장성 우수**
→ 트래픽이 많은 서비스만 수평 확장 가능, 인프라 비용 최적화 가능
5. **장애 격리**
→ 특정 서비스에서 장애 발생 시 전체 서비스 중단을 막을 수 있음

---


## MSA의 단점 및 고려사항
1. **서비스 간 통신 복잡도 증가**
→ REST API, gRPC, 메시징 큐를 사용해야 하며, 네트워크 지연/ 장애 고려 필요 
2. **데이터 일관성 문제**
→ 각 서비스가 DB를 따로 가지므로 분산 트랜잭션 관리가 어려움
3. **운영 및 모니터링 복잡도**
→ 서비스 수가 많아질수록 로깅, 트레이싱, 장애 대응이 어려워짐 → APM, ELK 등 필요 
4. **배포 및 CI/CD 자동화 필수**
→ 서비스 수가 많아지면 수동 배포는 불가능. Jenkins, GitOps 등 도구 도입 필요 
5. **초기 설계와 도입 비용이 큼**
→ 도입 초기에는 모놀리식보다 개발 속도가 느려지고, 팀 간 현업도 중요

--- 


## 그렇다면 왜 MSA를 선택?
- 시스템이 복잡하고 트래픽이 많은 경우
- 기능별로 독립적인 개발/ 운영이 필요한 경우
- 빠른 배포 주기와 유연한 확장이 필요한 경우
- 개발 조직이 커지면서 기능별 전문 팀 구성이 가능한 경우

--- 


## 느낀 점
MSA는 단순히 기술적인 구조가 아니라 조직 구조, 배포 방식, 운영 전략까지 아우르는 **전체 시스템 설계 방식**이라는 점이 인상 깊었다.
처음에는 개발 및 운영이 복잡해 보일 수 있지만, 시스템이 커지고 팀이 나뉠수록 MSA의 **효율성, 유연성, 확장성**이 큰 장점으로 작용할 수 있음을 느꼈다.
MSA를 도입할지 말지는 시스템의 규모, 조직 구성, 비즈니스 요구사항에 따라 신중하게 판단해야겠다.